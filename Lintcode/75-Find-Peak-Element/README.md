
The key here is 
start = 1;
end = nums.length-2;

The res resides in [start, end]
Avoid a lot of edge check.

