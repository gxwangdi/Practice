
Basically using a map<message, timestamp>, and check if existing record satisfies the condition. 

This is pretty much like a warm up for Google interview question. 