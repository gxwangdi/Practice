
I think of bit operation, it seems there are edge cases that complicate the implementation.    

The recursion is straight forward from logic perspective, but not simple enough from implementation perspective.

 
