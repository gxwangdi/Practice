
Check the tags and see it is DP, I can only figure out a DP[i, j], which means the sum from i to j, to fill the matrix takes O(n2).   

Check online that it has O(n) solution.  

Greedy and Prefix sum.        

It only requires the result, does not care the index, so learn to use the mock like max(0, sum) to cut unnecessary part into result set.   