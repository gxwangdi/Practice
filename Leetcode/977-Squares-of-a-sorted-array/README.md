
The biggest value happens on either sides, on 3 cases, so to populate from end to start for res[] would avoid a lot of condition validation.
