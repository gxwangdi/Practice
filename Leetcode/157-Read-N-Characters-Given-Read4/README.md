
This is not difficult, but need to be very careful on all edge cases!   

Read until the end of the file!  

Search online, there is a more elegant implementation using system.copyarray() API. 



